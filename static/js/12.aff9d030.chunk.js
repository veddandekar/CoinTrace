(this.webpackJsonpcointrace=this.webpackJsonpcointrace||[]).push([[12],{268:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a(1),c=a(14),i=a(3),o=a.n(i),l=a(16),s=a(0),u=a(2),m=a.n(u),p=a(176),f=a(227),g=a(225),h=a(279),d=a(245),v=a(244),w=a(278),E=a(223),b=a(59),x=a(247),S=a(251),y=a(250),O=a(246),j=a(248),N=a(249),k=a(54),J=a(45),T=a(103),C=a.n(T),I=a(218),P=Object(I.a)((function(e){return{wrapper:{height:"75vh",userSelect:"none",textAlign:"center",width:"100%",flex:1,flexDirection:"column",marginTop:"5vh",overflowY:"auto"},accordion:{width:"100%"},accordionDetails:{height:"50vh",overflowY:"hidden",margin:"auto",overflowX:"clip",maxWidth:"100vw"},icon:{width:"100%",height:"100%",color:e.palette.secondary.main},iconBox:{width:50,marginRight:10},search:{marginTop:"10vh"},title:{"font-weight":100},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary,textAlign:"right",flexGrow:1},table:{border:0,tableLayout:"fixed",maxWidth:"78vw"},root:{padding:"2px 4px",display:"flex",alignItems:"center",width:"70vw",flexGrow:1},input:{marginLeft:e.spacing(1),flex:1}}}));var W=function(){var e=P(),t=m.a.useState(!1),a=Object(s.a)(t,2),i=a[0],u=a[1],T=m.a.useState({}),I=Object(s.a)(T,2),W=I[0],z=I[1],A=m.a.useState({}),D=Object(s.a)(A,2),R=D[0],L=D[1],_=m.a.useState({}),B=Object(s.a)(_,2),G=B[0],H=B[1],Y=m.a.useState(""),q=Object(s.a)(Y,2),F=q[0],X=q[1],Z=m.a.useState([]),K=Object(s.a)(Z,2),M=K[0],Q=K[1],U=m.a.useState(!0),V=Object(s.a)(U,2),$=V[0],ee=V[1],te=m.a.useState(!0),ae=Object(s.a)(te,2),ne=ae[0],re=ae[1],ce=m.a.useState(0),ie=Object(s.a)(ce,2),oe=ie[0],le=ie[1];m.a.useEffect((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C()("https://api.allorigins.win/get?url=https://api.wazirx.com/api/v2/tickers?"+(new Date).getTime());case 2:t=e.sent,a=JSON.parse(localStorage.getItem("favs"))||[],n={},a.forEach((function(e){n[e]=t.data.contents[e]})),H(n),z(JSON.parse(t.data.contents)),ee(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),m.a.useEffect((function(){ee(!0),clearTimeout(oe),le(setTimeout((function(){if(F.length){var e={};Object.keys(W).forEach((function(t,a){W[t].base_unit.includes(F.toLowerCase())&&(e[t]=W[t])})),L(e)}else L(G);ee(!1)}),600))}),[F,W]);var se=JSON.parse(localStorage.getItem("favs"))||[];return m.a.createElement(m.a.Fragment,null,m.a.createElement(J.a,{title:"Welcome",description:"Welcome to React PWA"}),m.a.createElement(p.a,{maxWidth:"sm",className:"full-height"},m.a.createElement(k.a,{alignCenter:!0,className:e.search},m.a.createElement(E.a,{component:"form",className:e.root},m.a.createElement(w.a,{className:e.input,placeholder:"Search Cryptos",value:F,onChange:function(e){return X(e.target.value)}}))),m.a.createElement(k.a,{justifyCenter:!0,alignCenter:!0,className:e.wrapper},$?m.a.createElement(f.a,null):se.length||F.length?Object.keys(R).map((function(t,a){return m.a.createElement(h.a,{key:t+a,expanded:i===t,onChange:(s=t,function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(re(!0),a){e.next=4;break}return u(!1),e.abrupt("return");case 4:return u(s),e.next=7,C()("https://api.allorigins.win/get?url=https://api.wazirx.com/api/v2/trades?market="+s);case 7:n=e.sent,r=[],JSON.parse(n.data.contents).forEach((function(e){r.push({price:e.price,time:e.created_at})})),Q(r),re(!1);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),TransitionProps:{unmountOnExit:!0},className:e.accordion},m.a.createElement(v.a,{expandIcon:m.a.createElement(b.c,null),"aria-controls":t+"bh-content",id:t+"bh-header"},se.includes(t)?m.a.createElement(b.d,{onClick:function(e){return function(e,t){e.stopPropagation(),ee(!0);var a=JSON.parse(localStorage.getItem("favs"))||[],n={};localStorage.setItem("favs",JSON.stringify(a.filter((function(e){return e!=t&&(n[t]=G[t],!0)})))),H(n),ee(!1)}(e,t)}}):m.a.createElement(b.h,{onClick:function(e){return function(e,t){e.stopPropagation(),ee(!0);var a=JSON.parse(localStorage.getItem("favs"))||[];localStorage.setItem("favs",JSON.stringify([t].concat(Object(c.a)(a)))),H(Object(r.a)(Object(n.a)({},t,W[t]),G)),ee(!1)}(e,t)}}),m.a.createElement(g.a,{className:e.heading},W[t].name.split("/")[0]),m.a.createElement(g.a,{className:e.secondaryHeading},W[t].last+" ("+W[t].quote_unit+")")),m.a.createElement(d.a,{className:e.accordionDetails},m.a.createElement(O.a,null,ne?m.a.createElement(f.a,null):m.a.createElement(x.a,{className:e.table,"aria-label":"simple table",size:"small"},m.a.createElement(j.a,null,m.a.createElement(N.a,null,m.a.createElement(y.a,null,"Time"),m.a.createElement(y.a,{align:"right"},"Price"))),m.a.createElement(S.a,null,M.map((function(e,a){return m.a.createElement(N.a,{key:t+a},m.a.createElement(y.a,{component:"th",scope:"row"},e.time.split("T")[1].split("Z")[0]),m.a.createElement(y.a,{align:"right"},e.price))})))))));var s})):"Add coins to favourites!")))};t.default=W},45:function(e,t,a){"use strict";var n=a(2),r=a.n(n),c=a(58),i=a(37);function o(e){var t=e.description,a=e.meta,n=e.title,o=e.image,l="".concat(i.h," ").concat(n?"| "+n:"");return r.a.createElement(c.a,{title:l,meta:[{name:"description",content:t},{property:"og:title",content:l},{property:"og:description",content:t},{property:"og:type",content:"website"},{property:"og:image",content:o},{name:"twitter:card",content:"summary"},{name:"twitter:title",content:l},{name:"twitter:description",content:t}].concat(a)})}o.defaultProps={meta:[],image:"".concat(window.location.origin,"/images/cover.png")};var l=o;t.a=l}}]);